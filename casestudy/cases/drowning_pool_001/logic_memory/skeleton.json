{
  "case_id": "drowning_pool_001",
  "canon_events": [
    {
      "id": "CE1",
      "title": "Đánh giá ban đầu & an toàn hiện trường",
      "description": "Thực hiện kiểm tra an toàn bản thân/hiện trường, tiếp cận nạn nhân đúng quy trình và đánh giá nhanh mức đáp ứng, hô hấp, tuần hoàn.",
      "preconditions": [],
      "required_actions": [
        "Kiểm tra an toàn khu vực xung quanh hồ bơi.",
        "Tiếp cận nạn nhân đúng kỹ thuật.",
        "Đánh giá tình trạng đáp ứng, thở, mạch của nạn nhân."
      ],
      "success_criteria": [
        "Xác định rủi ro khu vực nước/trơn trượt và kiểm soát đám đông.",
        "Tiếp cận đúng kỹ thuật, giới thiệu vai trò và xin hỗ trợ.",
        "Nêu rõ tình trạng ban đầu (đáp ứng, thở, mạch) bằng thuật ngữ đơn giản."
      ],
      "timeout_turn": 3,
      "npc_appearance": [
        {
          "persona_id": "P1",
          "role": "Nạn nhân"
        },
        {
          "persona_id": "P3",
          "role": "Nhân viên cơ sở"
        },
        {
          "persona_id": "P4",
          "role": "Người bơi gần đó"
        }
      ],
      "on_success": "CE2",
      "on_fail": "CE1_RETRY"
    },
    {
      "id": "CE2",
      "title": "Kích hoạt cấp cứu & phân công",
      "description": "Kích hoạt 115/EMS đúng lúc, phân công nhân chứng hỗ trợ (gọi cấp cứu, mang AED/túi sơ cứu, điều phối đám đông).",
      "preconditions": [
        "CE1"
      ],
      "required_actions": [
        "Gọi điện đến số 115 để kích hoạt cấp cứu.",
        "Phân công người gọi 115 và nhắc lặp lại.",
        "Yêu cầu mang AED/túi sơ cứu đến vị trí."
      ],
      "success_criteria": [
        "Chỉ định đích danh người gọi 115 và nhắc lặp lại.",
        "Yêu cầu mang AED/túi sơ cứu đến vị trí.",
        "Báo tọa độ/địa chỉ và mô tả nạn nhân ngắn gọn."
      ],
      "timeout_turn": 3,
      "npc_appearance": [
        {
          "persona_id": "P2",
          "role": "Thân nhân"
        },
        {
          "persona_id": "P3",
          "role": "Nhân viên cơ sở"
        }
      ],
      "on_success": "CE3",
      "on_fail": "CE2_RETRY"
    },
    {
      "id": "CE3",
      "title": "Sơ cứu theo phác đồ tại chỗ",
      "description": "Thực hiện các can thiệp sơ cứu phù hợp với phác đồ địa phương dành cho nạn nhân đuối nước.",
      "preconditions": [
        "CE2"
      ],
      "required_actions": [
        "Thực hiện các can thiệp sơ cứu ưu tiên đường thở–thở–tuần hoàn.",
        "Hâm ấm thụ động cho nạn nhân.",
        "Theo dõi liên tục cho tới khi bàn giao."
      ],
      "success_criteria": [
        "Quyết định can thiệp dựa trên tình trạng thở/tuần hoàn quan sát được.",
        "Hướng dẫn người hỗ trợ đúng và an toàn.",
        "Theo dõi, đánh giá lại và chuẩn bị bàn giao cho EMS."
      ],
      "timeout_turn": 4,
      "npc_appearance": [
        {
          "persona_id": "P1",
          "role": "Nạn nhân"
        },
        {
          "persona_id": "P3",
          "role": "Nhân viên cơ sở"
        }
      ],
      "on_success": "CE4",
      "on_fail": "CE3_RETRY"
    },
    {
      "id": "CE4",
      "title": "Giao tiếp & trấn an thân nhân",
      "description": "Truyền đạt rõ ràng, trấn an người nhà trong khi vẫn duy trì ưu tiên an toàn và can thiệp cho nạn nhân.",
      "preconditions": [
        "CE3"
      ],
      "required_actions": [
        "Giải thích tình trạng của nạn nhân cho thân nhân.",
        "Hướng dẫn thân nhân đứng ở vị trí an toàn.",
        "Xử lý câu hỏi/căng thẳng từ thân nhân."
      ],
      "success_criteria": [
        "Giải thích ngắn gọn, dễ hiểu cho thân nhân.",
        "Hướng dẫn đứng vị trí an toàn, tránh cản trở.",
        "Xử lý câu hỏi/căng thẳng mà không gián đoạn chăm sóc."
      ],
      "timeout_turn": 3,
      "npc_appearance": [
        {
          "persona_id": "P2",
          "role": "Thân nhân"
        },
        {
          "persona_id": "P3",
          "role": "Nhân viên cơ sở"
        }
      ],
      "on_success": null,
      "on_fail": "CE4_RETRY"
    }
  ]
}